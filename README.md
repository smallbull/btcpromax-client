# BTCProMax 用户使用说明

**版本**: v1.0.0
**更新日期**: 2025-12-29

---

## 目录

1. [软件简介](#软件简介)
2. [快速开始](#快速开始)
3. [IP 段管理](#ip-段管理)
4. [扫描与监控](#扫描与监控)
5. [矿机列表](#矿机列表)
6. [统计与筛选](#统计与筛选)
7. [批量操作](#批量操作)
8. [系统设置](#系统设置)
9. [数据导出](#数据导出)
10. [常见问题](#常见问题)

---

## 软件简介

BTCProMax 是一款专业的 Antminer 矿机批量管理工具，支持 Windows、Linux 平台。

**主要功能**：
- 批量扫描和发现矿机
- 实时监控矿机状态
- 批量配置矿池、重启、升级固件
- 工作模式切换（升降频、睡眠模式）
- 故障检测和事件记录
- 数据统计和导出

**支持的矿机**：Antminer 系列（S21、G19 等）

---

## 快速开始

### 1. 添加 IP 段

1. 点击侧边栏 **"+"** 按钮
2. 输入 IP 范围，支持以下格式：
   - 完整格式：`192.168.1.1~192.168.1.255`
   - 简写格式：`192.168.1.1~255`
3. 输入备注名称（可选）
4. 点击确认保存

### 2. 扫描矿机

1. 在侧边栏勾选要扫描的 IP 段
2. 点击工具栏 **"扫描"** 按钮
3. 等待扫描完成，矿机列表将显示发现的设备

### 3. 开始管理

- 选中矿机后可进行批量操作
- 点击统计项可快速筛选矿机
- 右键矿机可查看详细信息

---

## IP 段管理

### 添加 IP 段

| 操作 | 说明 |
|------|------|
| 点击 "+" | 添加新 IP 段 |
| IP 格式 | `起始IP~结束IP` 或 `起始IP~末位` |
| 备注 | 自定义名称，便于识别 |

### 编辑/删除

- **编辑**：双击 IP 段进入编辑模式
- **删除**：选中后点击 **"-"** 按钮

> 删除 IP 段会同时删除该段下的所有矿机数据

### 导入配置

支持从 btctool 的 .ini 文件导入 IP 配置：

1. 点击侧边栏 **"导入"** 按钮
2. 选择 .ini 配置文件
3. 自动解析并导入所有 IP 段

---

## 扫描与监控

### 手动扫描

1. 勾选要扫描的 IP 段
2. 点击 **"扫描"** 按钮
3. 顶部显示扫描进度

### 后台监控

1. 点击 **"监控"** 按钮启动后台监控
2. 系统每 5 分钟自动扫描一次
3. 点击 **"停止"** 结束监控

### 扫描参数

在设置中可调整：

| 参数 | 默认值 | 说明 |
|------|--------|------|
| 扫描并发数 | 256 | 同时扫描的矿机数量 |
| 扫描超时 | 3 秒 | 等待矿机响应时间 |

---

## 矿机列表

### 显示信息

| 列名 | 说明 |
|------|------|
| IP | 矿机 IP 地址 |
| 备注 | 所属 IP 段名称 |
| 状态 | 正常/零算力/算力不合格/掉线 |
| 故障 | 无/高温/风扇/电源/算力板/网络 |
| 型号 | 矿机型号（如 S21、G19） |
| 实时算力 | 当前算力 (TH/s) |
| 平均算力 | 平均算力 (TH/s) |
| 温度 | 进口/出口温度 |
| 风扇 | 风扇转速 |
| 运行时间 | 累计运行时长 |
| 拒绝率 | 拒绝率百分比 |
| 矿池 1/2/3 | 矿池配置信息 |

### 状态说明

| 状态 | 颜色 | 说明 |
|------|------|------|
| 正常 | 绿色 | 运行正常 |
| 零算力 | 红色 | 算力为 0 |
| 算力不合格 | 黄色 | 算力低于预期 |
| 掉线 | 灰色 | 无法连接 |

### 异常标记

| 异常 | 说明 |
|------|------|
| 非法矿池 | 矿池不在白名单内 |
| 矿工名重复 | 多台矿机使用相同矿工名 |
| 拒绝率异常 | 拒绝率 >= 1% |
| 无提交 | 最近无算力提交 |

---

## 统计与筛选

### 统计面板

顶部统计面板实时显示各分类的矿机数量：

- **按状态**：正常、零算力、算力不合格、掉线
- **按故障**：无故障、高温、风扇、电源、算力板、网络
- **按模式**：正常、睡眠、自动调频、低功耗
- **按异常**：非法矿池、矿工名重复、拒绝率异常
- **按型号**：各矿机型号数量
- **按矿池**：各矿池账号分布

### 快速筛选

**点击任意统计项**即可筛选显示该分类的矿机。

例如：点击"掉线: 5"只显示 5 台掉线矿机。

---

## 批量操作

### 操作范围

每个批量操作都支持两种范围：

| 范围 | 说明 |
|------|------|
| 选中矿机 | 仅对勾选的矿机执行 |
| 筛选矿机 | 对当前筛选结果中的所有矿机执行 |

### 重启矿机

1. 选中目标矿机
2. 点击 **"重启"** 按钮
3. 选择操作范围
4. 确认执行

### 配置矿池

1. 点击 **"配置矿池"** 按钮
2. 填写矿池信息：

| 字段 | 说明 |
|------|------|
| URL | 矿池地址 |
| 账号 | 矿工账号 |
| 密码 | 矿工密码（通常为 x） |
| 后缀 | IP/MAC/无（自动添加到矿工名后） |

3. 可选择保存为矿池白名单
4. 选择操作范围并确认

### 工作模式

1. 点击 **"工作模式"** 按钮
2. 选择模式：

| 模式 | 说明 |
|------|------|
| 正常 | 标准运行模式 |
| 睡眠 | 低功耗待机 |
| 升降频 | 选择频率档位 |
| 低功耗 | 最低功耗运行 |

3. 升降频需选择矿机型号和档位
4. 确认执行

### 固件升级

1. 点击 **"固件升级"** 按钮
2. 点击上传选择固件文件（.bin/.tar）
3. 系统自动检测适配型号
4. 选择操作范围
5. 确认升级

> 升级过程中矿机会重启，请勿断电

### 网络设置

**DHCP 恢复**：将矿机网络恢复为自动获取 IP

**固定 IP**：
1. 下载 CSV 模板
2. 填写映射关系（源 IP/MAC → 目标 IP）
3. 设置子网掩码、网关、DNS
4. 上传并执行

### 定位灯

开启/关闭矿机定位灯，便于物理定位设备。

### 自动重启

配置矿机定时自动重启：

| 配置项 | 说明 |
|--------|------|
| 启用 | 开启/关闭自动重启 |
| 时间段 | 允许重启的时间范围 |
| 时区 | 时间参考时区 |
| 间隔 | 重启间隔（分钟） |

---

## 系统设置

点击工具栏 **"设置"** 按钮：

### 扫描配置

| 参数 | 范围 | 默认 | 说明 |
|------|------|------|------|
| 扫描并发数 | 1-500 | 256 | 同时扫描矿机数 |
| 扫描超时 | 1-10 秒 | 3 秒 | 响应等待时间 |
| 配置并发数 | 1-50 | 10 | 同时配置矿机数 |
| 配置超时 | 1-60 秒 | 30 秒 | 配置等待时间 |

### 矿机认证

| 参数 | 默认 | 说明 |
|------|------|------|
| 用户名 | root | Antminer 登录用户名 |
| 密码 | root | Antminer 登录密码 |

### 显示设置

| 参数 | 选项 | 说明 |
|------|------|------|
| 显示掉线矿机 | 开/关 | 列表是否包含离线设备 |
| 主题 | 深色/浅色 | 界面主题 |
| 语言 | 中文/英文 | 界面语言 |

---

## 数据导出

### 导出 CSV

1. 应用需要的筛选条件
2. 点击 **"导出"** 按钮
3. 选择保存位置
4. 确认导出

### 导出内容

- 基础信息：IP、备注、状态、故障、异常
- 性能数据：算力、温度、风扇、运行时间
- 矿池配置：3 个矿池的 URL 和账号
- 设备信息：型号、MAC、固件版本、网络类型

---

## 矿池白名单

### 管理白名单

1. 在"配置矿池"对话框点击 **"矿池白名单列表"**
2. 查看/添加/编辑/删除白名单

### 使用白名单

配置矿池时可直接选择已保存的白名单，快速填充矿池信息。

### 异常检测

系统会检测矿机矿池是否在白名单内，不在白名单的矿机会标记"非法矿池"异常。

---

## 常见问题

### 扫描不到矿机

1. 检查 IP 段配置是否正确
2. 确认矿机和电脑在同一网络
3. 增加扫描超时时间
4. 检查防火墙设置

### 配置失败

1. 检查用户名密码是否正确
2. 确认矿机在线
3. 增加配置超时时间
4. 减少并发数

### 矿机显示掉线

1. 检查矿机电源和网络连接
2. 查看事件记录了解掉线时间
3. 尝试手动 ping 矿机 IP

### 升级固件失败

1. 确认固件文件与矿机型号匹配
2. 检查矿机网络稳定性
3. 一次升级数量不宜过多
4. 升级期间保持电源稳定

---

## 快捷操作

| 操作 | 说明 |
|------|------|
| 点击统计项 | 快速筛选 |
| 双击 IP 段 | 编辑 IP 段 |
| 右键矿机 | 填充矿池信息 |
---

## 技术支持

如遇问题，请访问：https://www.btcpromax.com

---

*BTCProMax - 专业的矿机批量管理工具*
